<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ch√∫c M·ª´ng NƒÉm M·ªõi üéâ</title>

  <style>
    :root{
      color-scheme: light;
      --green-main:#1f7a3f;
      --green-light:#2ecc71;
      --green-soft:#e9f7ef;
    }

    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(circle at top, #ffe9a8, #ffb6c1, #8fd3ff);
      overflow:hidden;
    }

    .card{
      width:min(760px, 92vw);
      text-align:center;
      padding:34px 26px;
      border-radius:24px;
      background: rgba(233, 247, 239, 0.86);
      backdrop-filter: blur(12px);
      box-shadow: 0 20px 45px rgba(0,0,0,.18);
      border: 1px solid rgba(46, 204, 113, 0.25);
    }

    h1{
      margin:0 0 10px;
      font-size: clamp(28px, 5vw, 44px);
      color: var(--green-main);
      letter-spacing: .2px;
    }

    #nameTag{
      display:inline-block;
      margin: 6px 0 14px;
      padding: 8px 12px;
      border-radius: 999px;
      background: rgba(46, 204, 113, 0.14);
      border: 1px solid rgba(46, 204, 113, 0.25);
      color: #205f37;
      font-weight: 650;
      font-size: 14px;
    }

    p{
      margin:0 0 18px;
      font-size: clamp(16px, 2.35vw, 20px);
      line-height:1.55;
      color:#2d5f3a;
    }

    .row{
      display:flex;
      gap:12px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top:10px;
    }

    button{
      border:0;
      border-radius:999px;
      padding:12px 18px;
      font-weight:650;
      cursor:pointer;
      transition: transform .18s ease, filter .18s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }

    .primary{
      background: linear-gradient(135deg, var(--green-main), var(--green-light));
      color:#fff;
      box-shadow: 0 10px 22px rgba(31,122,63,.35);
    }
    .primary:hover{ transform: translateY(-2px); }

    .ghost{
      background: rgba(255,255,255,.92);
      color: var(--green-main);
      border: 1px solid rgba(46, 204, 113, 0.55);
    }
    .ghost:hover{ transform: translateY(-2px); }

    .small{
      margin-top:16px;
      font-size:14px;
      color:#4a7c59;
      opacity:.95;
    }

    /* Confetti */
    .confetti{
      position: fixed;
      top: -14px;
      pointer-events: none;
      z-index: 9999;
      will-change: transform, opacity;
      animation-name: confetti-fall;
      animation-timing-function: linear;
      animation-fill-mode: forwards;
      opacity: .95;
      filter: drop-shadow(0 0 10px rgba(255,255,255,.28));
    }
    .confetti.paper{ border-radius: 3px; }
    .confetti.dot{ border-radius: 999px; }

    @keyframes confetti-fall{
      0%   { transform: translate3d(var(--x), -30px, 0) rotate(0deg); opacity: 1; }
      100% { transform: translate3d(calc(var(--x) + var(--drift)), 115vh, 0) rotate(var(--rot)); opacity: 0; }
    }
  </style>
</head>

<body>
  <main class="card">
    <h1>üéä Ch√∫c M·ª´ng NƒÉm M·ªõi! üéä</h1>

    <div id="nameTag">G·ª≠i b·∫°n</div>

    <p id="msg">
      Ch√∫c b·∫°n m·ªôt nƒÉm m·ªõi th·∫≠t nhi·ªÅu s·ª©c kh·ªèe, ni·ªÅm vui v√† nh·ªØng ƒëi·ªÅu t·ªët ƒë·∫πp! ‚ú®
    </p>

    <div class="row">
      <button class="primary" id="btnConfetti">B·∫Øn ph√°o gi·∫•y</button>
      <button class="ghost" id="btnWish">·∫§n n√∫t n·∫øu ch∆∞a ƒë√∫ng t√™n</button>
    </div>

    <div class="small">
      M√πng 1 T·∫øt ƒêoan Ng·ªç <b id="year"></b> ‚Ä¢ Made with IT0212
    </div>
  </main>

  <script>
    // L·ªùi ch√∫c theo t·ª´ng ng∆∞·ªùi
    const wishesByName = {
      "Anh Xu√¢n Chi·∫øn": "Ch√∫c anh Chi·∫øn nƒÉm m·ªõi b·ª©t ph√° m·∫°nh m·∫Ω, ƒë·∫°t m·ªçi m·ª•c ti√™u!",
      "Ch·ªã H·ªìng Ng·ªçc": "Ch√∫c ch·ªã H·ªìng Ng·ªçc nƒÉm m·ªõi lu√¥n t·ªèa s√°ng, h·∫°nh ph√∫c v√† d√¨u d·∫Øt CLB!",
      "Mai Ph∆∞∆°ng": "Ch√∫c Mai Ph∆∞∆°ng ch·∫°y th√™m 10 ch∆∞∆°ng tr√¨nh v·ªõi CLB",
      "Ph∆∞∆°ng Nam": "Ch√∫c Ph∆∞∆°ng Nam IELTS 8.0!",
      "Nh∆∞ Ng·ªçc": "Ch√∫c Nh∆∞ Ng·ªçc nƒÉm m·ªõi h·∫°nh ph√∫c v√† lu√¥n ƒë∆∞·ª£c y√™u th∆∞∆°ng!",
      "Nguy√™n Ph∆∞∆°ng": "Ch√∫c Nguy√™n Ph∆∞∆°ng nƒÉm m·ªõi ƒë·∫ßy c·∫£m h·ª©ng, s√°ng t·∫°o v√† nhi·ªÅu c∆° h·ªôi l·ªõn!",
      "Ng·ªçc Trinh": "Ch√∫c Ng·ªçc Trinh nƒÉm m·ªõi t·ª± tin v√† ƒë·∫°t nhi·ªÅu th√†nh t·ª±u ƒë√°ng t·ª± h√†o!",
      "K·ª≥ Duy√™n": "Ch√∫c K·ª≥ Duy√™n nƒÉm m·ªõi nhi·ªÅu duy√™n l√†nh, th√†nh c√¥ng v√† ni·ªÅm vui b·∫•t t·∫≠n!",
      "Ch√¢u Anh": "Ch√∫c Ch√¢u Anh nƒÉm m·ªõi tr√†n ƒë·∫ßy nƒÉng l∆∞·ª£ng t√≠ch c·ª±c v√† nh·ªØng ƒëi·ªÅu b·∫•t ng·ªù th√∫ v·ªã!",
      "Ph∆∞∆°ng Uy√™n": "Ch√∫c Ph∆∞∆°ng Uy√™n nƒÉm m·ªõi b√¨nh an, h·ªçc t·∫≠p/l√†m vi·ªác thu·∫≠n l·ª£i v√† lu√¥n m·ªâm c∆∞·ªùi!",
      "Ph∆∞∆°ng Anh": "Ch√∫c Ph∆∞∆°ng Anh nƒÉm m·ªõi b·ª©t ph√° gi·ªõi h·∫°n v√† ƒë·∫°t ƒë∆∞·ª£c m·ªçi ƒëi·ªÅu mong mu·ªën!",
      "Anh Khoa": "Ch√∫c Anh Khoa nƒÉm m·ªõi th√†nh c√¥ng r·ª±c r·ª° v√† lu√¥n v·ªØng b∆∞·ªõc ph√≠a tr∆∞·ªõc!",
      "Kh√°nh Linh": "Ch√∫c Kh√°nh Linh nƒÉm m·ªõi ng·∫≠p tr√†n y√™u th∆∞∆°ng v√† th·∫≠t nhi·ªÅu c∆° h·ªôi t·ªët ƒë·∫πp!",
      "C·∫©m Nhung": "Ch√∫c C·∫©m Nhung nƒÉm m·ªõi r·∫°ng r·ª°, t·ª± tin v√† ƒë·∫°t ƒë∆∞·ª£c m·ªçi m·ª•c ti√™u ƒë·ªÅ ra!",
      "Tam Thi·ªán": "Ch√∫c Tam Thi·ªán nƒÉm m·ªõi h·∫°nh ph√∫c v√† nhi·ªÅu th√†nh t·ª±u ƒë√°ng t·ª± h√†o!",
      "Nh∆∞ Anh": "Ch√∫c Nh∆∞ Anh nƒÉm m·ªõi nh·∫π nh√†ng, may m·∫Øn v√† lu√¥n ƒë∆∞·ª£c y√™u th∆∞∆°ng!",
      "Minh Tr√≠": "Ch√∫c Minh Tr√≠ nƒÉm m·ªõi s√°ng su·ªët, b·∫£n lƒ©nh v√† th√†nh c√¥ng v∆∞·ª£t mong ƒë·ª£i!",
      "Ng·ªçc Kh√°nh": "Ch√∫c Ng·ªçc Kh√°nh nƒÉm m·ªõi b√¨nh an, m·∫°nh kh·ªèe v√† v·∫°n s·ª± nh∆∞ √Ω!",
      "Qu·ªëc Vi·ªát": "Ch√∫c Qu·ªëc Vi·ªát nƒÉm m·ªõi nhi·ªÅu c∆° h·ªôi l·ªõn v√† th√†nh c√¥ng vang d·ªôi!",
      "Thanh Ph∆∞∆°ng": "Ch√∫c Thanh Ph∆∞∆°ng nƒÉm m·ªõi h·∫°nh ph√∫c tr·ªçn v·∫πn v√† nhi·ªÅu ƒëi·ªÅu t·ªët ƒë·∫πp!",
      "Y·∫øn Thu": "Ch√∫c Y·∫øn Thu nƒÉm m·ªõi may m·∫Øn v√† lu√¥n gi·ªØ ƒë∆∞·ª£c n·ª• c∆∞·ªùi!",
      "Ph∆∞∆°ng Danh": "Ch√∫c Ph∆∞∆°ng Danh nƒÉm m·ªõi th√†nh c√¥ng v√† lu√¥n tr√†n ƒë·∫ßy nƒÉng l∆∞·ª£ng!",
      "Thi·ªán Nh√¢n": "Ch√∫c Thi·ªán Nh√¢n nƒÉm m·ªõi b√¨nh an v√† nhi·ªÅu th√†nh t·ª±u r·ª±c r·ª°!",
      "Minh Th∆∞": "Ch√∫c Minh Th∆∞ nƒÉm m·ªõi nh·∫π nh√†ng v√† nhi·ªÅu ƒëi·ªÅu b·∫•t ng·ªù th√∫ v·ªã!",
      "Minh Hy": "Ch√∫c Minh Hy nƒÉm m·ªõi ng·∫≠p tr√†n c∆° h·ªôi v√† h·∫°nh ph√∫c!",
      "Ch·ªã Di·ªÖn Heo": "Êñ∞Âπ¥Âø´‰πêÔºå‰∏á‰∫ãÂ¶ÇÊÑèÔºÅ"
    };

    const names = Object.keys(wishesByName);
    const msgEl = document.getElementById("msg");
    const nameTagEl = document.getElementById("nameTag");
    const btnWish = document.getElementById("btnWish");
    const btnConfetti = document.getElementById("btnConfetti");

    const params = new URLSearchParams(window.location.search);
    const nameFromURL = params.get("name");

    function pickRandomName(){
      return names[Math.floor(Math.random() * names.length)];
    }

    function showWish(name){
      const finalName = wishesByName[name] ? name : pickRandomName();
      nameTagEl.textContent = "G·ª≠i " + finalName;
      msgEl.textContent = wishesByName[finalName];
      return finalName;
    }

    // --- Confetti: nhi·ªÅu + burst ---
    function spawnConfetti(count = 320){
      const maxOnScreen = 2200;
      const current = document.querySelectorAll(".confetti").length;
      if (current > maxOnScreen) return;

      for (let i = 0; i < count; i++){
        const c = document.createElement("div");
        const isDot = Math.random() < 0.33;
        c.className = "confetti " + (isDot ? "dot" : "paper");

        c.style.left = (Math.random() * 100) + "vw";
        c.style.setProperty("--x", (Math.random() * 100) + "vw");
        c.style.setProperty("--drift", ((Math.random() * 2 - 1) * 30) + "vw");
        c.style.setProperty("--rot", (Math.random() * 1200 - 600) + "deg");
        c.style.background = `hsl(${Math.floor(Math.random() * 360)}, 92%, 60%)`;

        const dur = 2.0 + Math.random() * 3.0;   // 2.0 - 5.0s
        const delay = Math.random() * 0.18;      // 0 - 0.18s
        c.style.animationDuration = dur + "s";
        c.style.animationDelay = delay + "s";

        if (isDot){
          const s = 5 + Math.random() * 9; // 5-14
          c.style.width = s + "px";
          c.style.height = s + "px";
        } else {
          const w = 6 + Math.random() * 12; // 6-18
          const h = 10 + Math.random() * 16; // 10-26
          c.style.width = w + "px";
          c.style.height = h + "px";
        }

        document.body.appendChild(c);
        c.addEventListener("animationend", () => c.remove());
      }
    }

    function bigBurst(){
      spawnConfetti(420);
      setTimeout(() => spawnConfetti(420), 120);
      setTimeout(() => spawnConfetti(420), 240);
      setTimeout(() => spawnConfetti(420), 360);
    }

    // Hi·ªÉn th·ªã ban ƒë·∫ßu
    showWish(nameFromURL);

    // B·∫Øn ph√°o gi·∫•y th·ªß c√¥ng
    btnConfetti.addEventListener("click", bigBurst);

    // ‚úÖ Khi b·∫•m ‚Äúch∆∞a ƒë√∫ng t√™n‚Äù: ƒë·ªïi t√™n -> ƒë·ª£i 2s -> b·∫Øn ph√°o hoa
    let pendingTimer = null;
    btnWish.textContent = "·∫§n n√∫t n·∫øu ch∆∞a ƒë√∫ng t√™n";
    btnWish.addEventListener("click", () => {
      // ƒë·ªïi t√™n + l·ªùi ch√∫c
      showWish(pickRandomName());

      // n·∫øu b·∫•m li√™n t·ª•c th√¨ h·ªßy timer c≈© ƒë·ªÉ tr√°nh b·∫Øn ch·ªìng lo·∫°n
      if (pendingTimer) clearTimeout(pendingTimer);

      // ch·ªù 2 gi√¢y r·ªìi b·∫Øn
      pendingTimer = setTimeout(() => {
        bigBurst();
        pendingTimer = null;
      }, 2000);
    });

    // N·ªï nh·∫π khi m·ªü trang
    spawnConfetti(280);

    // NƒÉm hi·ªán t·∫°i
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>
</body>
</html>