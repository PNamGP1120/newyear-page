<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>ChÃºc Má»«ng NÄƒm Má»›i ğŸ‰</title>

  <style>
    :root{
      color-scheme: light;
      --green-main:#1f7a3f;
      --green-light:#2ecc71;
      --green-soft:#e9f7ef;
      --text:#2d5f3a;
    }

    *{ box-sizing: border-box; }

    body{
      margin:0;
      min-height:100svh; /* mobile safe */
      display:grid;
      place-items:center;
      padding: 18px;     /* chá»‘ng sÃ¡t viá»n trÃªn mobile */
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(circle at top, #ffe9a8, #ffb6c1, #8fd3ff);
      overflow:hidden;
    }

    .card{
      width: min(780px, 100%);
      text-align:center;
      padding: clamp(18px, 4vw, 34px);
      border-radius: 22px;
      background: rgba(233, 247, 239, 0.86);
      backdrop-filter: blur(12px);
      box-shadow: 0 20px 45px rgba(0,0,0,.18);
      border: 1px solid rgba(46, 204, 113, 0.25);
    }

    h1{
      margin:0 0 10px;
      font-size: clamp(22px, 5.2vw, 44px);
      color: var(--green-main);
      letter-spacing: .2px;
      line-height: 1.15;
    }

    #nameTag{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      margin: 6px 0 14px;
      padding: 8px 12px;
      border-radius: 999px;
      background: rgba(46, 204, 113, 0.14);
      border: 1px solid rgba(46, 204, 113, 0.25);
      color: #205f37;
      font-weight: 700;
      font-size: 14px;
      max-width: 100%;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis; /* tÃªn dÃ i váº«n Ä‘áº¹p */
    }

    #msg{
      margin:0 0 18px;
      font-size: clamp(15px, 2.5vw, 20px);
      line-height:1.55;
      color: var(--text);
      word-break: break-word;
    }

    .row{
      display:flex;
      gap:12px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top:12px;
    }

    button{
      border:0;
      border-radius:999px;
      padding: 12px 16px;
      font-weight: 750;
      cursor:pointer;
      transition: transform .18s ease, filter .18s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      min-height: 44px; /* chuáº©n cháº¡m mobile */
      font-size: 15px;
      flex: 1 1 220px;  /* responsive: 2 nÃºt cÃ³ thá»ƒ xáº¿p hÃ ng */
      max-width: 320px;
    }

    .primary{
      background: linear-gradient(135deg, var(--green-main), var(--green-light));
      color:#fff;
      box-shadow: 0 10px 22px rgba(31,122,63,.35);
    }
    .ghost{
      background: rgba(255,255,255,.94);
      color: var(--green-main);
      border: 1px solid rgba(46, 204, 113, 0.55);
    }

    button:active{ transform: translateY(1px) scale(.99); }
    button:hover{ transform: translateY(-2px); }

    .small{
      margin-top:16px;
      font-size: 13px;
      color:#4a7c59;
      opacity:.95;
      line-height: 1.4;
    }

    /* Mobile tweaks */
    @media (max-width: 420px){
      button{ flex-basis: 100%; max-width: 100%; }
      .small{ font-size: 12.5px; }
    }

    /* Confetti */
    .confetti{
      position: fixed;
      top: -14px;
      pointer-events: none;
      z-index: 9999;
      will-change: transform, opacity;
      animation-name: confetti-fall;
      animation-timing-function: linear;
      animation-fill-mode: forwards;
      opacity: .95;
      filter: drop-shadow(0 0 10px rgba(255,255,255,.28));
    }
    .confetti.paper{ border-radius: 3px; }
    .confetti.dot{ border-radius: 999px; }

    @keyframes confetti-fall{
      0%   { transform: translate3d(var(--x), -30px, 0) rotate(0deg); opacity: 1; }
      100% { transform: translate3d(calc(var(--x) + var(--drift)), 115vh, 0) rotate(var(--rot)); opacity: 0; }
    }

    /* Reduce motion support */
    @media (prefers-reduced-motion: reduce){
      .confetti{ display:none; }
      button{ transition:none; }
    }
  </style>
</head>

<body>
  <main class="card" role="main">
    <h1>ğŸŠ ChÃºc Má»«ng NÄƒm Má»›i! ğŸŠ</h1>

    <div id="nameTag" title="TÃªn theo link">Gá»­i báº¡n</div>

    <p id="msg">ChÃºc báº¡n má»™t nÄƒm má»›i tháº­t nhiá»u sá»©c khá»e, niá»m vui vÃ  nhá»¯ng Ä‘iá»u tá»‘t Ä‘áº¹p! âœ¨</p>

    <div class="row">
      <button class="primary" id="btnConfetti" type="button">Báº¯n phÃ¡o giáº¥y ğŸ‰</button>
      <button class="ghost" id="btnWish" type="button">áº¤n nÃºt náº¿u chÆ°a Ä‘Ãºng tÃªn</button>
    </div>

    <div class="small">
      MÃ¹ng 1 Táº¿t Äoan Ngá» <b id="year"></b> â€¢ Made with IT0212
    </div>
  </main>

  <script>
    const wishesByName = {
      "Anh XuÃ¢n Chiáº¿n": "ChÃºc anh Chiáº¿n nÄƒm má»›i bá»©t phÃ¡ máº¡nh máº½, Ä‘áº¡t má»i má»¥c tiÃªu!",
      "Chá»‹ Há»“ng Ngá»c": "ChÃºc chá»‹ Há»“ng Ngá»c nÄƒm má»›i luÃ´n tá»a sÃ¡ng, háº¡nh phÃºc vÃ  dÃ¬u dáº¯t CLB!",
      "Mai PhÆ°Æ¡ng": "ChÃºc Mai PhÆ°Æ¡ng cháº¡y thÃªm 10+ chÆ°Æ¡ng trÃ¬nh vá»›i CLB",
      "PhÆ°Æ¡ng Nam": "ChÃºc PhÆ°Æ¡ng Nam IELTS 8.0!",
      "NhÆ° Ngá»c": "ChÃºc NhÆ° Ngá»c nÄƒm má»›i háº¡nh phÃºc vÃ  luÃ´n Ä‘Æ°á»£c yÃªu thÆ°Æ¡ng!",
      "NguyÃªn PhÆ°Æ¡ng": "ChÃºc NguyÃªn PhÆ°Æ¡ng nÄƒm má»›i Ä‘áº§y cáº£m há»©ng, sÃ¡ng táº¡o vÃ  nhiá»u cÆ¡ há»™i lá»›n!",
      "Ngá»c Trinh": "ChÃºc Ngá»c Trinh nÄƒm má»›i tá»± tin vÃ  Ä‘áº¡t nhiá»u thÃ nh tá»±u Ä‘Ã¡ng tá»± hÃ o!",
      "Ká»³ DuyÃªn": "ChÃºc Ká»³ DuyÃªn nÄƒm má»›i nhiá»u duyÃªn lÃ nh, thÃ nh cÃ´ng vÃ  niá»m vui báº¥t táº­n!",
      "ChÃ¢u Anh": "ChÃºc ChÃ¢u Anh nÄƒm má»›i trÃ n Ä‘áº§y nÄƒng lÆ°á»£ng tÃ­ch cá»±c vÃ  nhá»¯ng Ä‘iá»u báº¥t ngá» thÃº vá»‹!",
      "PhÆ°Æ¡ng UyÃªn": "ChÃºc PhÆ°Æ¡ng UyÃªn nÄƒm má»›i bÃ¬nh an, há»c táº­p/lÃ m viá»‡c thuáº­n lá»£i vÃ  luÃ´n má»‰m cÆ°á»i!",
      "PhÆ°Æ¡ng Anh": "ChÃºc PhÆ°Æ¡ng Anh nÄƒm má»›i bá»©t phÃ¡ giá»›i háº¡n vÃ  Ä‘áº¡t Ä‘Æ°á»£c má»i Ä‘iá»u mong muá»‘n!",
      "Anh Khoa": "ChÃºc Anh Khoa nÄƒm má»›i thÃ nh cÃ´ng rá»±c rá»¡ vÃ  luÃ´n vá»¯ng bÆ°á»›c phÃ­a trÆ°á»›c!",
      "KhÃ¡nh Linh": "ChÃºc KhÃ¡nh Linh nÄƒm má»›i ngáº­p trÃ n yÃªu thÆ°Æ¡ng vÃ  tháº­t nhiá»u cÆ¡ há»™i tá»‘t Ä‘áº¹p!",
      "Cáº©m Nhung": "ChÃºc Cáº©m Nhung nÄƒm má»›i ráº¡ng rá»¡, tá»± tin vÃ  Ä‘áº¡t Ä‘Æ°á»£c má»i má»¥c tiÃªu Ä‘á» ra!",
      "Tam Thiá»‡n": "ChÃºc Tam Thiá»‡n nÄƒm má»›i háº¡nh phÃºc vÃ  nhiá»u thÃ nh tá»±u Ä‘Ã¡ng tá»± hÃ o!",
      "NhÆ° Anh": "ChÃºc NhÆ° Anh nÄƒm má»›i nháº¹ nhÃ ng, may máº¯n vÃ  luÃ´n Ä‘Æ°á»£c yÃªu thÆ°Æ¡ng!",
      "Minh TrÃ­": "ChÃºc Minh TrÃ­ nÄƒm má»›i sÃ¡ng suá»‘t, báº£n lÄ©nh vÃ  thÃ nh cÃ´ng vÆ°á»£t mong Ä‘á»£i!",
      "Ngá»c KhÃ¡nh": "ChÃºc Ngá»c KhÃ¡nh nÄƒm má»›i bÃ¬nh an, máº¡nh khá»e vÃ  váº¡n sá»± nhÆ° Ã½!",
      "Quá»‘c Viá»‡t": "ChÃºc Quá»‘c Viá»‡t nÄƒm má»›i nhiá»u cÆ¡ há»™i lá»›n vÃ  thÃ nh cÃ´ng vang dá»™i!",
      "Thanh PhÆ°Æ¡ng": "ChÃºc Thanh PhÆ°Æ¡ng nÄƒm má»›i háº¡nh phÃºc trá»n váº¹n vÃ  nhiá»u Ä‘iá»u tá»‘t Ä‘áº¹p!",
      "Yáº¿n Thu": "ChÃºc Yáº¿n Thu nÄƒm má»›i may máº¯n vÃ  luÃ´n giá»¯ Ä‘Æ°á»£c ná»¥ cÆ°á»i!",
      "PhÆ°Æ¡ng Danh": "ChÃºc PhÆ°Æ¡ng Danh nÄƒm má»›i thÃ nh cÃ´ng vÃ  luÃ´n trÃ n Ä‘áº§y nÄƒng lÆ°á»£ng!",
      "Thiá»‡n NhÃ¢n": "ChÃºc Thiá»‡n NhÃ¢n nÄƒm má»›i bÃ¬nh an vÃ  nhiá»u thÃ nh tá»±u rá»±c rá»¡!",
      "Minh ThÆ°": "ChÃºc Minh ThÆ° nÄƒm má»›i nháº¹ nhÃ ng vÃ  nhiá»u Ä‘iá»u báº¥t ngá» thÃº vá»‹!",
      "Minh Hy": "ChÃºc Minh Hy nÄƒm má»›i ngáº­p trÃ n cÆ¡ há»™i vÃ  háº¡nh phÃºc!",
      "Chá»‹ Diá»…n Heo": "æ–°å¹´å¿«ä¹ï¼Œä¸‡äº‹å¦‚æ„ï¼"
    };

    const names = Object.keys(wishesByName);

    const msgEl = document.getElementById("msg");
    const nameTagEl = document.getElementById("nameTag");
    const btnWish = document.getElementById("btnWish");
    const btnConfetti = document.getElementById("btnConfetti");

    // ====== Láº¥y tÃªn tá»« URL ?name= ======
    const params = new URLSearchParams(window.location.search);
    const nameFromURL = params.get("name");

    function pickRandomName(except){
      if (names.length <= 1) return names[0];
      let n = names[Math.floor(Math.random() * names.length)];
      while (n === except) n = names[Math.floor(Math.random() * names.length)];
      return n;
    }

    let currentName = "";

    function showWish(name){
      const finalName = wishesByName[name] ? name : pickRandomName("");
      currentName = finalName;
      nameTagEl.textContent = "Gá»­i " + finalName;
      nameTagEl.title = finalName;
      msgEl.textContent = wishesByName[finalName];
      return finalName;
    }

    // =========================
    // Confetti: nhiá»u + burst
    // =========================
    function spawnConfetti(count = 320){
      const maxOnScreen = 2400;
      const current = document.querySelectorAll(".confetti").length;
      if (current > maxOnScreen) return;

      // tá»± giáº£m sá»‘ lÆ°á»£ng trÃªn mÃ¡y yáº¿u (mÃ n hÃ¬nh nhá» thÆ°á»ng lÃ  Ä‘iá»‡n thoáº¡i)
      const isSmall = window.matchMedia("(max-width: 420px)").matches;
      const finalCount = isSmall ? Math.floor(count * 0.75) : count;

      for (let i = 0; i < finalCount; i++){
        const c = document.createElement("div");
        const isDot = Math.random() < 0.33;
        c.className = "confetti " + (isDot ? "dot" : "paper");

        c.style.left = (Math.random() * 100) + "vw";
        c.style.setProperty("--x", (Math.random() * 100) + "vw");
        c.style.setProperty("--drift", ((Math.random() * 2 - 1) * 30) + "vw");
        c.style.setProperty("--rot", (Math.random() * 1200 - 600) + "deg");
        c.style.background = `hsl(${Math.floor(Math.random() * 360)}, 92%, 60%)`;

        const dur = 2.0 + Math.random() * 3.0;
        const delay = Math.random() * 0.18;
        c.style.animationDuration = dur + "s";
        c.style.animationDelay = delay + "s";

        if (isDot){
          const s = 5 + Math.random() * 9;
          c.style.width = s + "px";
          c.style.height = s + "px";
        } else {
          const w = 6 + Math.random() * 12;
          const h = 10 + Math.random() * 16;
          c.style.width = w + "px";
          c.style.height = h + "px";
        }

        document.body.appendChild(c);
        c.addEventListener("animationend", () => c.remove());
      }
    }

    function bigBurst(){
      spawnConfetti(520);
      setTimeout(() => spawnConfetti(520), 120);
      setTimeout(() => spawnConfetti(520), 240);
      setTimeout(() => spawnConfetti(520), 360);
    }

    // =========================
    // HÃ nh vi nÃºt
    // =========================
    let pendingTimer = null;

    btnConfetti.addEventListener("click", bigBurst);

    btnWish.textContent = "áº¤n nÃºt náº¿u chÆ°a Ä‘Ãºng tÃªn";
    btnWish.addEventListener("click", () => {
      // Ä‘á»•i sang ngÆ°á»i khÃ¡c (khÃ´ng trÃ¹ng tÃªn hiá»‡n táº¡i)
      showWish(pickRandomName(currentName));

      // báº¥m liÃªn tá»¥c thÃ¬ há»§y timer cÅ©
      if (pendingTimer) clearTimeout(pendingTimer);

      // chá» 2 giÃ¢y rá»“i báº¯n phÃ¡o
      pendingTimer = setTimeout(() => {
        bigBurst();
        pendingTimer = null;
      }, 2000);
    });

    // =========================
    // Init
    // =========================
    showWish(nameFromURL);
    spawnConfetti(260);
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>
</body>
</html>